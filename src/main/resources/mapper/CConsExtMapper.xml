<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.mapper.CConsExtMapper">
    <resultMap id="BaseResultMap" type="com.example.demo.bo.CCons">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sun Aug 02 13:08:17 CST 2020.
        -->
        <id column="CONS_ID" jdbcType="VARCHAR" property="consId" />
        <result column="CUST_ID" jdbcType="VARCHAR" property="custId" />
        <result column="CONS_NO" jdbcType="VARCHAR" property="consNo" />
        <result column="CONS_NAME" jdbcType="VARCHAR" property="consName" />
        <result column="CUST_QUERY_NO" jdbcType="VARCHAR" property="custQueryNo" />
        <result column="TMP_PAY_RELA_NO" jdbcType="VARCHAR" property="tmpPayRelaNo" />
        <result column="ORGN_CONS_NO" jdbcType="VARCHAR" property="orgnConsNo" />
        <result column="CONS_SORT_CODE" jdbcType="VARCHAR" property="consSortCode" />
        <result column="ELEC_ADDR" jdbcType="VARCHAR" property="elecAddr" />
        <result column="TRADE_CODE" jdbcType="VARCHAR" property="tradeCode" />
        <result column="ELEC_TYPE_CODE" jdbcType="VARCHAR" property="elecTypeCode" />
        <result column="CONTRACT_CAP" jdbcType="DOUBLE" property="contractCap" />
        <result column="RUN_CAP" jdbcType="DOUBLE" property="runCap" />
        <result column="SHIFT_NO" jdbcType="VARCHAR" property="shiftNo" />
        <result column="LODE_ATTR_CODE" jdbcType="VARCHAR" property="lodeAttrCode" />
        <result column="VOLT_CODE" jdbcType="VARCHAR" property="voltCode" />
        <result column="HEC_INDUSTRY_CODE" jdbcType="VARCHAR" property="hecIndustryCode" />
        <result column="HOLIDAY" jdbcType="VARCHAR" property="holiday" />
        <result column="BUILD_DATE" jdbcType="DATE" property="buildDate" />
        <result column="PS_DATE" jdbcType="DATE" property="psDate" />
        <result column="DUE_DATE" jdbcType="DATE" property="dueDate" />
        <result column="NOTIFY_MODE" jdbcType="VARCHAR" property="notifyMode" />
        <result column="SETTLE_MODE" jdbcType="VARCHAR" property="settleMode" />
        <result column="STATUS_CODE" jdbcType="VARCHAR" property="statusCode" />
        <result column="ORG_NO" jdbcType="VARCHAR" property="orgNo" />
        <result column="RRIO_CODE" jdbcType="VARCHAR" property="rrioCode" />
        <result column="CHK_CYCLE" jdbcType="VARCHAR" property="chkCycle" />
        <result column="LAST_CHK_DATE" jdbcType="DATE" property="lastChkDate" />
        <result column="CHECER_NO" jdbcType="VARCHAR" property="checerNo" />
        <result column="POWEROFF_CODE" jdbcType="VARCHAR" property="poweroffCode" />
        <result column="TRANSFER_CODE" jdbcType="VARCHAR" property="transferCode" />
        <result column="MR_SECT_NO" jdbcType="VARCHAR" property="mrSectNo" />
        <result column="NOTE_TYPE_CODE" jdbcType="VARCHAR" property="noteTypeCode" />
        <result column="TMP_FLAG" jdbcType="VARCHAR" property="tmpFlag" />
        <result column="TMP_DATE" jdbcType="DATE" property="tmpDate" />
    </resultMap>

    <select id="selectByFormVo" parameterType="com.example.demo.vo.FormVo" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sun Aug 02 13:08:17 CST 2020.
        -->

        select * from C_CONS where 1 = 1
        <if test="formVo.cConsId != null">
            and   CONS_ID like '${formVo.cConsId}%'
        </if>
        <if test="formVo.custId != null">
            and   CUST_ID like '${formVo.custQueryNo}%'
        </if>
        <if test="formVo.custQueryNo != null">
            and   CUST_QUERY_NO = #{formVo.custQueryNo}
        </if>
        <if test="formVo.poweroffCode != null">
            and   POWEROFF_CODE = #{formVo.poweroffCode}
        </if>
        <if test="formVo.buildDate != null">
            and   BUILD_DATE = #{formVo.buildDate}
        </if>
        <if test="formVo.chkCycle != null">
            and   CHK_CYCLE = #{formVo.chkCycle}
        </if>
        limit ${(page-1)*limit},#{limit}

    </select>


    <select id="countByFormVo" parameterType="com.example.demo.vo.FormVo" resultType="java.lang.Integer">
        select count(1) from C_CONS where 1 = 1
        <if test="cConsId != null">
            and   CONS_ID like '${cConsId}%'
        </if>
        <if test="custId != null">
            and   CUST_ID like '${custId}%'
        </if>
        <if test="custQueryNo != null">
            and   CUST_QUERY_NO = #{custQueryNo}
        </if>
        <if test="poweroffCode != null">
            and   POWEROFF_CODE = #{poweroffCode}
        </if>
        <if test="buildDate = null">
            and   BUILD_DATE = #{buildDate}
        </if>
        <if test="chkCycle != null">
            and   CHK_CYCLE = #{chkCycle}
        </if>


    </select>

</mapper>